# Lovelace UI Configuration
# This creates a pre-configured dashboard for PicoOpenTherm

title: Home
views:
  # Main Overview
  - title: Home
    path: home
    icon: mdi:home
    badges: []
    cards:
      - type: weather-forecast
        entity: weather.home
        show_forecast: true
      
      - type: entities
        title: OpenTherm Gateway
        show_header_toggle: false
        entities:
          - entity: sensor.opentherm_gw_room_temp
            name: Room Temperature
          - entity: sensor.opentherm_gw_boiler_temp
            name: Boiler Temperature
          - entity: binary_sensor.opentherm_gw_ch_mode
            name: Heating Active
          - entity: sensor.opentherm_gw_modulation
            name: Modulation Level

  # OpenTherm Dashboard
  - title: OpenTherm
    path: opentherm
    icon: mdi:radiator
    badges:
      - entity: sensor.opentherm_gw_uptime
      - entity: sensor.opentherm_gw_wifi_rssi
    cards:
      # Current Status
      - type: glance
        title: Current Status
        entities:
          - entity: binary_sensor.opentherm_gw_ch_mode
            name: CH
          - entity: binary_sensor.opentherm_gw_dhw_mode
            name: DHW
          - entity: binary_sensor.opentherm_gw_flame
            name: Flame
          - entity: sensor.opentherm_gw_modulation
            name: Modulation
          - entity: sensor.opentherm_gw_pressure
            name: Pressure
      
      # Temperatures
      - type: entities
        title: Temperatures
        entities:
          - entity: sensor.opentherm_gw_room_temp
            name: Room Temperature
            icon: mdi:home-thermometer
          - entity: number.opentherm_gw_room_setpoint
            name: Room Setpoint
            icon: mdi:thermometer-lines
          - type: divider
          - entity: sensor.opentherm_gw_boiler_temp
            name: Boiler Water
            icon: mdi:water-thermometer
          - entity: sensor.opentherm_gw_return_temp
            name: Return Water
            icon: mdi:water-thermometer-outline
          - entity: sensor.opentherm_gw_exhaust_temp
            name: Exhaust Gas
            icon: mdi:smoke
          - type: divider
          - entity: sensor.opentherm_gw_dhw_temp
            name: Hot Water
            icon: mdi:water-boiler
          - entity: number.opentherm_gw_dhw_setpoint
            name: DHW Setpoint
            icon: mdi:water-thermometer-outline
          - entity: sensor.opentherm_gw_dhw_flow
            name: DHW Flow Rate
            icon: mdi:water-pump
          - type: divider
          - entity: sensor.opentherm_gw_outside_temp
            name: Outside
            icon: mdi:thermometer
      
      # Temperature History
      - type: history-graph
        title: Temperature History
        hours_to_show: 24
        refresh_interval: 60
        entities:
          - entity: sensor.opentherm_gw_room_temp
            name: Room
          - entity: sensor.opentherm_gw_room_setpoint
            name: Setpoint
          - entity: sensor.opentherm_gw_boiler_temp
            name: Boiler
          - entity: sensor.opentherm_gw_return_temp
            name: Return
      
      # Boiler Activity
      - type: history-graph
        title: Boiler Activity
        hours_to_show: 24
        refresh_interval: 60
        entities:
          - entity: binary_sensor.opentherm_gw_ch_mode
            name: CH Active
          - entity: binary_sensor.opentherm_gw_dhw_mode
            name: DHW Active
          - entity: binary_sensor.opentherm_gw_flame
            name: Flame
          - entity: sensor.opentherm_gw_modulation
            name: Modulation
      
      # Control Setpoints
      - type: entities
        title: Heating & Hot Water Control
        entities:
          - entity: switch.opentherm_gw_ch_enable
            name: Central Heating Enable
            icon: mdi:radiator
          - entity: switch.opentherm_gw_dhw_enable
            name: Hot Water Enable
            icon: mdi:water-boiler
          - type: divider
          - entity: number.opentherm_gw_control_setpoint
            name: Control Setpoint
            icon: mdi:thermometer-lines
          - entity: number.opentherm_gw_room_setpoint
            name: Room Setpoint
            icon: mdi:home-thermometer-outline
          - entity: number.opentherm_gw_dhw_setpoint
            name: Hot Water Setpoint
            icon: mdi:water-thermometer-outline
          - entity: number.opentherm_gw_max_ch_setpoint
            name: Max CH Setpoint
            icon: mdi:thermometer-high

      # Gateway Configuration
      - type: entities
        title: Gateway Configuration
        entities:
          - entity: text.opentherm_gw_device_name
            name: Device Name
          - entity: text.opentherm_gw_device_id
            name: Device ID
          - entity: number.opentherm_gw_update_interval
            name: Update Interval (ms)
          - type: divider
          - entity: number.opentherm_gw_opentherm_tx_pin
            name: TX Pin (GPIO)
          - entity: number.opentherm_gw_opentherm_rx_pin
            name: RX Pin (GPIO)
          - type: section
            label: Time Sync
          - entity: button.opentherm_gw_sync_time
            name: Sync Time to Boiler
            icon: mdi:clock-sync
          - type: section
            label: Actions
          - entity: button.opentherm_gw_restart
            name: Restart Gateway
            icon: mdi:restart
      
      # Network Info
      - type: entities
        title: Network & Connectivity
        entities:
          - entity: sensor.opentherm_gw_ip_address
            name: IP Address
          - entity: sensor.opentherm_gw_wifi_rssi
            name: WiFi Signal
          - entity: sensor.opentherm_gw_wifi_link_status
            name: Connection Status
          - entity: sensor.opentherm_gw_uptime
            name: Uptime
      
      # Diagnostics
      - type: entities
        title: Diagnostics & Statistics
        entities:
          - entity: sensor.opentherm_gw_fault_code
            name: Fault Code
          - entity: sensor.opentherm_gw_diagnostic_code
            name: Diagnostic Code
          - type: section
            label: Burner Statistics
          - entity: sensor.opentherm_gw_burner_starts
            name: Burner Starts
          - entity: sensor.opentherm_gw_burner_hours
            name: Burner Hours
          - type: section
            label: Pump Statistics
          - entity: sensor.opentherm_gw_ch_pump_starts
            name: CH Pump Starts
          - entity: sensor.opentherm_gw_ch_pump_hours
            name: CH Pump Hours
          - entity: sensor.opentherm_gw_dhw_pump_starts
            name: DHW Pump Starts
          - entity: sensor.opentherm_gw_dhw_pump_hours
            name: DHW Pump Hours
          - type: section
            label: System Info
          - entity: sensor.opentherm_gw_max_modulation
            name: Max Modulation Level
          - entity: sensor.opentherm_gw_pressure
            name: CH Water Pressure

  # System & Time Monitoring View
  - !include lovelace/system_time.yaml

  # WiFi Monitoring View
  - !include lovelace/wifi_monitoring.yaml
